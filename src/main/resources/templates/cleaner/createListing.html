<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Listing</title>
    <link rel="stylesheet" href="/css/cleaner.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/sidebar.css">
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container">  
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>

    <div class="main-content">
        <h1>Create a New Service Listing</h1>

        <p th:if="${success}" class="success-message" th:text="${success}"></p>
        <p th:if="${error}" class="error-message" th:text="${error}"></p>
        
        <form th:action="@{/cleaner/createListing}" method="post" class="form-box">
            <input type="text" name="title" placeholder="Service Title" th:value="${listing.title}" required>
            <input type="text" name="description" placeholder="Description" th:value="${listing.description}" required>
            <input type="text" name="price" placeholder="Price (e.g. 49.99)" th:value="${listing.price}" required>
            <select id="serviceCategoryId" name="serviceCategoryId" required>
                <option value="" disabled selected>Select a category</option>
                <option th:each="category : ${categories}" 
                        th:value="${category.id}" 
                        th:text="${category.name}"
                        th:selected="${listing.serviceCategoryId} == ${category.id}">
                </option>
            </select>
            <button type="submit" class="button">Submit</button>
        </form>
    </div>
</div>

</body>
</html>
